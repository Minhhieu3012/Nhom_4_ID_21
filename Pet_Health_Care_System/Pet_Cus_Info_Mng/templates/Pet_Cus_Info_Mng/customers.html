{% extends "app_admin/master-page.html" %}

{%block header%}
    {% include 'includes/header.html' %}
{% endblock %}

{%block navbar%}
{% load static %}
<nav class="navbar navbar-expand-lg navbar-dark ftco_navbar bg-dark ftco-navbar-light" id="ftco-navbar" style="background-color: #fff !important";>
  <div class="container">
    <a class="navbar-brand" href="{% url 'app_admin' %}"><span class="flaticon-pawprint-1 mr-2"></span>Pet Health Care System</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#ftco-nav" aria-controls="ftco-nav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="fa fa-bars"></span> Menu
    </button>
    <div class="collapse navbar-collapse" id="ftco-nav">
      <ul class="navbar-nav ml-auto">
    <li class="nav-item"><a href="{% url 'customer_list' %}" class="nav-link">Khách Hàng</a></li>
    <li class="nav-item"><a href="{% url 'pet_list' %}" class="nav-link">Thú cưng</a></li>
    <li class="nav-item"><a href="{% url 'appointments_list' %}" class="nav-link">Lịch hẹn</a></li>
      </ul>
    </div>
  </div>
</nav>
{% endblock %}

{%block contactformsection%}
{% load static %}
<!-- Boxicons CSS -->
<link href="https://cdn.jsdelivr.net/npm/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
<div class="card">
    <h5 class="card-header">DANH SÁCH KHÁCH HÀNG</h5>
    <div>
      <table id="customer_list" class="table">
        <thead>
          <tr>
            <th>Họ</th>
            <th>Tên</th>
            <th>Tuổi</th>
            <th>Giới tính</th>
            <th>Số điện thoại</th>
            <th>Email</th>
            <th>Địa chỉ</th>
            <th class="rounded-end-bottom">Chỉnh sửa</th>
          </tr>
        </thead>
        <tbody class="table-border-bottom-0">
            {% for item in customers %}
                <tr class="table-default">
                    <td><i></i> <span>{{item.lastName}}</span></td>
                    <td>{{item.firstName}}</td>
                    <td><i class="list-unstyled m-0 avatar-group d-flex align-items-center"></i><span>{{item.age}}</span></td>
                    <td><i class="badge bg-label-primary me-1"></i><span>{{item.gender}}</span></td>
                    <td><i class="badge bg-label-primary me-1"></i><span>{{item.phoneNumber}}</span></td>
                    <td><i class="badge bg-label-primary me-1"></i><span>{{item.email}}</span></td>
                    <td><i class="badge bg-label-primary me-1"></i><span>{{item.address}}</span></td>
                    <td class="rounded-end-bottom">
                        <div class="dropdown">
                          <button type="button" class="btn p-0 dropdown-toggle hide-arrow" data-bs-toggle="dropdown">
                            <i class="bx bx-dots-vertical-rounded"></i>
                          </button>
                          <div class="dropdown-menu">
                            <a class="dropdown-item" href="{{ item.id }}/edit">Chỉnh sửa</a>
                            <a class="dropdown-item" href="{{ item.id }}/delete">Xóa</a>
                            <a class="dropdown-item" href="appointments-history/{{ item.email }}">Xem lịch sử đặt hẹn</a>
                          </div>
                        </div>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
      </table>
    </div>
</div>
<!--Nút thêm khách hàng-->
<div class="mt-4 text-center">
  <a href="{% url 'customer_add' %}" class="btn btn-primary">Thêm khách hàng mới</a>
</div>

<!-- Bootstrap JS Bundle -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

{% endblock %}

{%block footer%}
    {% include 'includes/footer.html' %}
{% endblock %}


